<?xml version="1.0" encoding="UTF-8"?>
<xqdoc:xqdoc xmlns:xqdoc="http://www.xqdoc.org/1.0">
    <xqdoc:control>
        <xqdoc:date>2012-12-31T12:27:01.983+01:00</xqdoc:date>
        <xqdoc:location>/db/apps/sade/modules/gendocs/dbutils.xql</xqdoc:location>
    </xqdoc:control>
    <xqdoc:module type="library">
        <xqdoc:uri>http://exist-db.org/xquery/dbutil</xqdoc:uri>
        <xqdoc:name>dbutil</xqdoc:name>
        <xqdoc:comment>
            <xqdoc:description/>
        </xqdoc:comment>
    </xqdoc:module>
    <xqdoc:functions>
        <xqdoc:function>
            <xqdoc:name>dbutil:find-by-mimetype</xqdoc:name>
            <xqdoc:signature>dbutil:find-by-mimetype($collection as xs:anyURI, $mimeType as xs:string) as item()*</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description/>
                <xqdoc:param>$collection </xqdoc:param>
                <xqdoc:param>$mimeType </xqdoc:param>
                <xqdoc:return>item()* - </xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>dbutil:scan</xqdoc:name>
            <xqdoc:signature>dbutil:scan($root as xs:anyURI, $func as function) as item()*</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description> 
 Scan a collection tree recursively starting at $root. Call the supplied function once for each
 resource encountered. The first parameter to $func is the collection URI, the second the resource
 path (including the collection part).
</xqdoc:description>
                <xqdoc:param>$root </xqdoc:param>
                <xqdoc:param>$func </xqdoc:param>
                <xqdoc:return>item()* - </xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>dbutil:scan-collections</xqdoc:name>
            <xqdoc:signature>dbutil:scan-collections($root as xs:anyURI, $func as function) as item()*</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description> Scan a collection tree recursively starting at $root. Call $func once for each collection found </xqdoc:description>
                <xqdoc:param>$root </xqdoc:param>
                <xqdoc:param>$func </xqdoc:param>
                <xqdoc:return>item()* - </xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
        <xqdoc:function>
            <xqdoc:name>dbutil:scan-resources</xqdoc:name>
            <xqdoc:signature>dbutil:scan-resources($collection as xs:anyURI, $func as function) as item()*</xqdoc:signature>
            <xqdoc:comment>
                <xqdoc:description>
 List all resources contained in a collection and call the supplied function once for each
 resource with the complete path to the resource as parameter.
</xqdoc:description>
                <xqdoc:param>$collection </xqdoc:param>
                <xqdoc:param>$func </xqdoc:param>
                <xqdoc:return>item()* - </xqdoc:return>
            </xqdoc:comment>
        </xqdoc:function>
    </xqdoc:functions>
</xqdoc:xqdoc>